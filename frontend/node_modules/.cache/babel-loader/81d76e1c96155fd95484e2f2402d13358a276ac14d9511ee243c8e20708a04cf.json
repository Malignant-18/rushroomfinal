{"ast":null,"code":"var _jsxFileName = \"/home/george-joseph/vscode/leaflet/frontend/src/pages/ToiletDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { supabase } from \"../backend/supabaseClient\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ToiletDetails = () => {\n  _s();\n  var _toilet$contact_caret, _toilet$last_maintena;\n  const [toilet, setToilet] = useState(null);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [direction, setDirection] = useState('');\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const fetchToilet = async toiletId => {\n    const {\n      data,\n      error\n    } = await supabase.from(\"toilets\").select(\"*\").eq(\"id\", toiletId).single();\n    if (!error) setToilet(data);\n    return !error;\n  };\n  useEffect(() => {\n    fetchToilet(id);\n  }, [id]);\n  const handleNavigation = async increment => {\n    if (isAnimating) return;\n    setIsAnimating(true);\n    setDirection(increment > 0 ? 'right' : 'left');\n    const nextId = (parseInt(id) + increment - 1) % 10 + 1;\n    const success = await fetchToilet(nextId);\n    if (success) {\n      navigate(`/toilet/${nextId}`, {\n        replace: true\n      });\n      setTimeout(() => setIsAnimating(false), 500);\n    }\n  };\n  if (!toilet) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"toilet-details\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 23\n  }, this);\n  const detailItems = [{\n    label: \"Location\",\n    value: toilet.place\n  }, {\n    label: \"Category\",\n    value: toilet.category\n  }, {\n    label: \"Price\",\n    value: toilet.free ? \"Free\" : `Rs. ${toilet.price}`\n  }, {\n    label: \"Timings\",\n    value: `${toilet.opening_hours} - ${toilet.closing_hours}`\n  }, {\n    label: \"Shower\",\n    value: toilet.shower ? \"Available\" : \"Not Available\"\n  }, {\n    label: \"Contact\",\n    value: (_toilet$contact_caret = toilet.contact_caretaker) !== null && _toilet$contact_caret !== void 0 ? _toilet$contact_caret : \"Not available\"\n  }, {\n    label: \"Last Maintenance\",\n    value: (_toilet$last_maintena = toilet.last_maintenance) !== null && _toilet$last_maintena !== void 0 ? _toilet$last_maintena : \"Unknown\"\n  }];\n  const carouselClass = `toilet-details ${isAnimating ? `slide-${direction}` : ''}`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: carouselClass,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousel-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"carousel-button prev\",\n        onClick: () => handleNavigation(-1),\n        disabled: isAnimating,\n        children: \"\\u2190\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"carousel-button next\",\n        onClick: () => handleNavigation(1),\n        disabled: isAnimating,\n        children: \"\\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: toilet.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"availability-tag\",\n      children: toilet.gender_availability\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), toilet.average_rating && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rating\",\n      children: toilet.average_rating\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), toilet.image && /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"toilet-image\",\n      src: toilet.image,\n      alt: toilet.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), detailItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"detail-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"detail-label\",\n        children: [item.label, \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"detail-value\",\n        children: item.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-button\",\n      onClick: () => navigate(-1),\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(ToiletDetails, \"2NwpZSyia3a9VpIswlYF26tVvTM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ToiletDetails;\nexport default ToiletDetails;\nvar _c;\n$RefreshReg$(_c, \"ToiletDetails\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","supabase","jsxDEV","_jsxDEV","ToiletDetails","_s","_toilet$contact_caret","_toilet$last_maintena","toilet","setToilet","isAnimating","setIsAnimating","direction","setDirection","id","navigate","fetchToilet","toiletId","data","error","from","select","eq","single","handleNavigation","increment","nextId","parseInt","success","replace","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","detailItems","label","value","place","category","free","price","opening_hours","closing_hours","shower","contact_caretaker","last_maintenance","carouselClass","onClick","disabled","name","gender_availability","average_rating","image","src","alt","map","item","index","_c","$RefreshReg$"],"sources":["/home/george-joseph/vscode/leaflet/frontend/src/pages/ToiletDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { supabase } from \"../backend/supabaseClient\";\n\nconst ToiletDetails = () => {\n  const [toilet, setToilet] = useState(null);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [direction, setDirection] = useState('');\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  const fetchToilet = async (toiletId) => {\n    const { data, error } = await supabase\n      .from(\"toilets\")\n      .select(\"*\")\n      .eq(\"id\", toiletId)\n      .single();\n\n    if (!error) setToilet(data);\n    return !error;\n  };\n\n  useEffect(() => {\n    fetchToilet(id);\n  }, [id]);\n\n  const handleNavigation = async (increment) => {\n    if (isAnimating) return;\n    \n    setIsAnimating(true);\n    setDirection(increment > 0 ? 'right' : 'left');\n\n    const nextId = ((parseInt(id) + increment - 1) % 10) + 1;\n    const success = await fetchToilet(nextId);\n    \n    if (success) {\n      navigate(`/toilet/${nextId}`, { replace: true });\n      setTimeout(() => setIsAnimating(false), 500);\n    }\n  };\n\n  if (!toilet) return <div className=\"toilet-details\">Loading...</div>;\n\n  const detailItems = [\n    { label: \"Location\", value: toilet.place },\n    { label: \"Category\", value: toilet.category },\n    { label: \"Price\", value: toilet.free ? \"Free\" : `Rs. ${toilet.price}` },\n    { label: \"Timings\", value: `${toilet.opening_hours} - ${toilet.closing_hours}` },\n    { label: \"Shower\", value: toilet.shower ? \"Available\" : \"Not Available\" },\n    { label: \"Contact\", value: toilet.contact_caretaker ?? \"Not available\" },\n    { label: \"Last Maintenance\", value: toilet.last_maintenance ?? \"Unknown\" },\n  ];\n\n  const carouselClass = `toilet-details ${isAnimating ? `slide-${direction}` : ''}`;\n\n  return (\n    <div className={carouselClass}>\n      <div className=\"carousel-controls\">\n        <button \n          className=\"carousel-button prev\"\n          onClick={() => handleNavigation(-1)}\n          disabled={isAnimating}\n        >\n          ←\n        </button>\n        <button \n          className=\"carousel-button next\"\n          onClick={() => handleNavigation(1)}\n          disabled={isAnimating}\n        >\n          →\n        </button>\n      </div>\n\n      <h1>{toilet.name}</h1>\n      \n      <div className=\"availability-tag\">\n        {toilet.gender_availability}\n      </div>\n      \n      {toilet.average_rating && (\n        <div className=\"rating\">\n          {toilet.average_rating}\n        </div>\n      )}\n\n      {toilet.image && (\n        <img \n          className=\"toilet-image\" \n          src={toilet.image} \n          alt={toilet.name}\n        />\n      )}\n\n      {detailItems.map((item, index) => (\n        <div className=\"detail-item\" key={index}>\n          <span className=\"detail-label\">{item.label}:</span>\n          <span className=\"detail-value\">{item.value}</span>\n        </div>\n      ))}\n\n      <button \n        className=\"back-button\"\n        onClick={() => navigate(-1)}\n      >\n        Go Back\n      </button>\n    </div>\n  );\n};\n\nexport default ToiletDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}